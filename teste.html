<!DOCTYPE html>
<html>
<head>
  <title>Jogo da Vida de Conway</title>
  <style>
    .grid-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-gap: 2px;
      margin-bottom: 10px;
    }

    .grid-item {
      background-color: white;
      border: 1px solid black;
      height: 50px;
      width: 50px;
    }
  </style>
</head>
<body>
  <h1>Jogo da Vida de Conway</h1>

  <div class="grid-container">
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
    <div class="grid-item"></div>
  </div>

  <button onclick="startGame()">Iniciar Jogo</button>

  <script>
    function startGame() {
      const gridItems = document.querySelectorAll('.grid-item');
      const cells = [];
      const rows = 4;
      const cols = 4;

      for (let i = 0; i < rows; i++) {
        for (let j = 0; j < cols; j++) {
          cells.push({ row: i, col: j, alive: false });
        }
      }

      initializeGrid();

      function initializeGrid() {
        gridItems.forEach((item, index) => {
          item.addEventListener('click', () => {
            cells[index].alive = !cells[index].alive;
            item.style.backgroundColor = cells[index].alive ? 'black' : 'white';
          });
        });
      }

      setInterval(updateGrid, 1000);

      function updateGrid() {
        const newCells = [];

        for (let i = 0; i < rows; i++) {
          for (let j = 0; j < cols; j++) {
            const index = i * cols + j;
            const cell = cells[index];
            const aliveNeighbors = countAliveNeighbors(i, j);

            if (cell.alive) {
              if (aliveNeighbors < 2 || aliveNeighbors > 3) {
                newCells.push({ ...cell, alive: false });
              } else {
                newCells.push(cell);
              }
            } else {
              if (aliveNeighbors === 3) {
                newCells.push({ ...cell, alive: true });
              } else {
                newCells.push(cell);
              }
            }
          }
        }

        cells.splice(0, cells.length, ...newCells);

        gridItems.forEach((item, index) => {
          item.style.backgroundColor = cells[index].alive ? 'black' : 'white';
        });
      }

      function countAliveNeighbors(row, col) {
        let count = 0;

        for (let i = -1; i <= 1; i++) {
          for (let j = -1; j <= 1; j++) {
            if (i === 0 && j === 0) continue;

            const neighborRow = row + i;
            const neighborCol = col + j;

            if (neighborRow >= 0 && neighborRow < rows && neighborCol >= 0 && neighborCol < cols) {
              const index = neighborRow * cols + neighborCol;
              if (cells[index].alive) count++;
            }
          }
        }

        return count;
      }
    }
  </script>
</body>
</html>